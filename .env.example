# AFASA 2.0 Environment Configuration
# Copy to .env and fill in actual values

# =============================================================================
# DATABASE
# =============================================================================
POSTGRES_DB=afasa
POSTGRES_USER=afasa
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DATABASE_URL=postgresql://afasa:CHANGE_ME_STRONG_PASSWORD@postgres:5432/afasa

# =============================================================================
# OBJECT STORAGE (MinIO)
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=CHANGE_ME_STRONG_PASSWORD
MINIO_BUCKET=afasa

# =============================================================================
# CACHE & MESSAGING
# =============================================================================
REDIS_URL=redis://redis:6379/0
NATS_URL=nats://nats:4222

# =============================================================================
# SECRETS ENCRYPTION
# Generate with: python -c "import secrets; import base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
# =============================================================================
AFASA_MASTER_KEY_BASE64=GENERATE_AND_REPLACE_ME

# =============================================================================
# IDENTITY (Keycloak)
# =============================================================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# OIDC Configuration
OIDC_ISSUER_URL=http://keycloak:8080/realms/afasa
OIDC_AUDIENCE=afasa-api
OIDC_CLIENT_ID=afasa-portal
OIDC_REDIRECT_URI=http://localhost:3000/callback

# Service Account (for provisioning)
KEYCLOAK_SERVICE_CLIENT_SECRET=GENERATE_AND_REPLACE_ME

# =============================================================================
# THINGSBOARD
# =============================================================================
TB_BASE_URL=http://thingsboard:8080
TB_JWT=THINGSBOARD_ADMIN_JWT_TOKEN

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# UbiBot API
UBIBOT_BASE_URL=https://api.ubibot.io

# Telegram Bot
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER
TELEGRAM_WEBHOOK_SECRET=GENERATE_RANDOM_SECRET

# AI Provider (Gemini)
GEMINI_API_KEY=YOUR_GEMINI_API_KEY

# =============================================================================
# PUBLIC URLS
# =============================================================================
PUBLIC_BASE_URL=http://localhost

# Portal Frontend
VITE_PUBLIC_BASE_URL=http://localhost
VITE_OIDC_ISSUER_URL=http://localhost:8080/realms/afasa
VITE_OIDC_CLIENT_ID=afasa-portal
VITE_OIDC_AUDIENCE=afasa-api

# =============================================================================
# OBSERVABILITY
# =============================================================================
LOG_LEVEL=INFO
TZ=UTC
